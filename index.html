<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="shortcut icon" href="/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <meta name="apple-mobile-web-app-title" content=" iPhosha" />
  <link rel="manifest" href="/site.webmanifest" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="icon-192x192.png">
  <title>Оценка телефона</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f7;
      color: #1d1d1f;
    }
    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background-color: #ffffff;
      padding: 10px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      z-index: 1000;
    }
    .logo {
      font-size: 24px;
      font-weight: 600;
      color: #1d1d1f;
      display: flex;
      align-items: center;
    }
    .logo::before {
      content: "";
      font-size: 28px;
      margin-right: 10px;
    }
    .menu-button {
      background-color: #007aff;
      color: #ffffff;
      border: none;
      padding: 10px 20px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 24px;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    .menu-dropdown {
      position: absolute;
      top: 70px;
      right: 20px;
      background-color: #ffffff;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      padding: 10px;
      z-index: 1000;
      display: none;
      width: 200px;
    }
    .menu-dropdown a {
      display: block;
      padding: 10px;
      color: #1d1d1f;
      text-decoration: none;
      font-size: 16px;
      border-radius: 8px;
      transition: background-color 0.3s ease;
    }
    .menu-dropdown a:hover {
      background-color: #f5f5f7;
    }
    .container {
      max-width: 800px;
      margin: 120px auto 40px;
      padding: 0 20px;
    }
    .form-container {
      background-color: #ffffff;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    .form-container h2 {
      font-size: 24px;
      font-weight: 600;
      margin-top: 0;
      color: #1d1d1f;
    }
    .button-group {
      margin-bottom: 20px;
    }
    .button-group h3 {
      font-size: 18px;
      font-weight: 500;
      margin-bottom: 10px;
      color: #1d1d1f;
    }
    .button-group button {
      background-color: #f5f5f7;
      border: none;
      padding: 12px 20px;
      margin: 5px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      color: #1d1d1f;
      transition: background-color 0.3s ease, transform 0.2s ease;
    }
    .button-group button:hover {
      background-color: #e0e0e6;
    }
    .button-group button.active {
      background-color: #007aff;
      color: #ffffff;
    }
    .button-group button.active:hover {
      background-color: #0063cc;
    }
    .result {
      margin-top: 20px;
      padding: 20px;
      background-color: #f5f5f7;
      border-radius: 8px;
      font-size: 18px;
      text-align: center;
      color: #1d1d1f;
    }
    .total-price {
      font-size: 28px;
      font-weight: 600;
      color: #34c759;
      margin-top: 10px;
    }
    .hidden {
      display: none;
    }
    select {
      width: 100%;
      padding: 12px;
      border-radius: 8px;
      border: 1px solid #e0e0e6;
      font-size: 16px;
      margin-bottom: 20px;
      background-color: #f5f5f7;
      color: #1d1d1f;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .fade-in {
      animation: fadeIn 0.3s ease-out;
    }
    @media (max-width: 600px) {
      .button-group button {
        padding: 8px 12px;
        font-size: 14px;
      }
      select {
        font-size: 14px;
      }
      .menu-button {
        font-size: 20px;
        width: 40px;
        height: 40px;
      }
      .menu-dropdown {
        top: 60px;
      }
      .container {
        margin-top: 100px;
      }
    }
  </style>
</head>
<body>
<div class="header">
  <div class="logo">АЙФОША</div>
  <button class="menu-button" onclick="toggleMenu()">☰</button>
  <div class="menu-dropdown" id="menuDropdown">
    <a href="/apple/index.html">Оцінка Trade IN</a>
    <a href="/apple/oplatabank.html">Розрахунок ОЧ</a>
    <a href="/apple/testiphone.html">Перевірка iPhone</a>
    <a href="/apple/testmac.html">Перевірка MacBook</a>
  </div>
</div>

<div class="container">
  <div class="form-container">
    <h2>Оцінка Trade IN</h2>
    <form id="evaluation-form">
      <div class="button-group" id="model-group">
        <h3>Модель телефону:</h3>
        <select id="model-select">
          <option value="">Виберіть модель</option>
          <option value="iPhone 16 Pro Max">iPhone 16 Pro Max</option>
          <option value="iPhone 16 Pro">iPhone 16 Pro</option>
          <option value="iPhone 16 Plus">iPhone 16+</option>
          <option value="iPhone 16">iPhone 16</option>
          <option value="iPhone 15 Pro Max">iPhone 15 Pro Max</option>
          <option value="iPhone 15 Pro">iPhone 15 Pro</option>
          <option value="iPhone 15 Plus">iPhone 15+</option>
          <option value="iPhone 15">iPhone 15</option>
          <option value="iPhone 14 Pro Max">iPhone 14 Pro Max</option>
          <option value="iPhone 14 Pro">iPhone 14 Pro</option>
          <option value="iPhone 14 Plus">iPhone 14+</option>
          <option value="iPhone 14">iPhone 14</option>
          <option value="iPhone 13 Pro Max">iPhone 13 Pro Max</option>
          <option value="iPhone 13 Pro">iPhone 13 Pro</option>
          <option value="iPhone 13">iPhone 13</option>
          <option value="iPhone 13 Mini">iPhone 13 Mini</option>
          <option value="iPhone 12 Pro Max">iPhone 12 Pro Max</option>
          <option value="iPhone 12 Pro">iPhone 12 Pro</option>
          <option value="iPhone 12">iPhone 12</option>
          <option value="iPhone 12 Mini">iPhone 12 Mini</option>
          <option value="iPhone 11 Pro Max">iPhone 11 Pro Max</option>
          <option value="iPhone 11 Pro">iPhone 11 Pro</option>
          <option value="iPhone 11">iPhone 11</option>
          <option value="iPhone XS Max">iPhone XS Max</option>
          <option value="iPhone XS">iPhone XS</option>
          <option value="iPhone X">iPhone X</option>
          <option value="iPhone XR">iPhone XR</option>
          <option value="iPhone SE2022">iPhone SE 2022</option>
          <option value="iPhone SE2020">iPhone SE 2020</option>
          <option value="iPhone 8 Plus">iPhone 8+</option>
          <option value="iPhone 8">iPhone 8</option>

        </select>
      </div>
      <div class="button-group hidden" id="storage-group">
        <h3>Об'єм пам'яті:</h3>
      </div>
      <div class="button-group hidden" id="battery-group">
        <h3>Стан акумулятора:</h3>
        <button type="button" data-battery="100-87" title="Отличное состояние аккумулятора">100-87%</button>
        <button type="button" data-battery="86-79" title="Хорошее состояние аккумулятора">86-79%</button>
      </div>
      <div class="button-group hidden" id="sim-group">
        <h3>Тип SIM-карти:</h3>
        <button type="button" data-sim="esim">eSIM</button>
        <button type="button" data-sim="regular">Фізична SIM</button>
      </div>
      <div class="result hidden" id="total-price">
        <div class="total-price">0 ₴</div>
      </div>
    </form>
  </div>
</div>

<script>
  const prices = {
    "iPhone 16 Pro Max": {
      storage: { 256: 47000, 512: 51000, 1024: 53000 },
      battery: { "100-87": 0, "86-79": -4500 },
      hasSim: true,
      esimDiscount: 4300,
    },
    "iPhone 16 Pro": {
      storage: { 128: 38500, 256: 43000, 512: 45000, 1024: 47000 },
      battery: { "100-87": 0, "86-79": -4500 },
      hasSim: true,
      esimDiscount: 2400,
    },
    "iPhone 16 Plus": {
      storage: { 128: 32500, 256: 37000, 512: 38000 },
      battery: { "100-87": 0, "86-79": -4500 },
      hasSim: true,
      esimDiscount: 1700,
    },
    "iPhone 16": {
      storage: { 128: 28000, 256: 30000, 512: 32500 },
      battery: { "100-87": 0, "86-79": -4500 },
      hasSim: true,
      esimDiscount: 1500,
    },
    "iPhone 15 Pro Max": {
      storage: { 256: 38000, 512: 41500, 1024: 43000 },
      battery: { "100-87": 0, "86-79": -4500 },
      hasSim: true,
      esimDiscount: 1900,
    },
    "iPhone 15 Pro": {
      storage: { 128: 32400, 256: 35000, 512: 36000, 1024: 37000 },
      battery: { "100-87": 0, "86-79": -4500 },
      hasSim: true,
      esimDiscount: 1900,
    },
    "iPhone 15 Plus": {
      storage: { 128: 26000, 256: 27300, 512: 28300 },
      battery: { "100-87": 0, "86-79": -4500 },
      hasSim: true,
      esimDiscount: 1700,
    },
    "iPhone 15": {
      storage: { 128: 24000, 256: 27000, 512: 27800 },
      battery: { "100-87": 0, "86-79": -4500 },
      hasSim: true,
      esimDiscount: 1500,
    },
    "iPhone 14 Pro Max": {
      storage: { 128: 28300, 256: 30000, 512: 31000, 1024: 31700 },
      battery: { "100-87": 0, "86-79": -3500 },
      hasSim: true,
      esimDiscount: 3200,
    },
    "iPhone 14 Pro": {
      storage: { 128: 25500, 256: 27700, 512: 29000, 1024: 29700 },
      battery: { "100-87": 0, "86-79": -3500 },
      hasSim: true,
      esimDiscount: 3000,
    },
    "iPhone 14 Plus": {
      storage: { 128: 19000, 256: 21000, 512: 22000 },
      battery: { "100-87": 0, "86-79": -3500 },
      hasSim: true,
      esimDiscount: 1000,
    },
    "iPhone 14": {
      storage: { 128: 17500, 256: 20000, 512: 21000 },
      battery: { "100-87": 0, "86-79": -3500 },
      hasSim: true,
      esimDiscount: 1000,
    },
    "iPhone 13 Pro Max": {
      storage: { 128: 22200, 256: 25200, 512: 26200, 1024: 27000 },
      battery: { "100-87": 0, "86-79": -3000 },
      hasSim: false,
      esimDiscount: 4300,
    },
    "iPhone 13 Pro": {
      storage: { 128: 19500, 256: 21000, 512: 22200, 1024: 23000 },
      battery: { "100-87": 0, "86-79": -3000 },
      hasSim: false,
      esimDiscount: 2400,
    },
    "iPhone 13": {
      storage: { 128: 14500, 256: 16500, 512: 17500 },
      battery: { "100-87": 0, "86-79": -3000 },
      hasSim: false,
      esimDiscount: 1500,
    },
    "iPhone 13 Mini": {
      storage: { 128: 13500, 256: 14500, 512: 15000 },
      battery: { "100-87": 0, "86-79": -3000 },
      hasSim: false,
      esimDiscount: 1500,
    },
    "iPhone 12 Pro Max": {
      storage: { 128: 17500, 256: 19100, 512: 20000 },
      battery: { "100-87": 0, "86-79": -2500 },
      hasSim: false,
      esimDiscount: 4300,
    },
    "iPhone 12 Pro": {
      storage: { 128: 14600, 256: 16000, 512: 16500 },
      battery: { "100-87": 0, "86-79": -2500 },
      hasSim: false,
      esimDiscount: 2400,
    },
    "iPhone 12": {
      storage: { 64: 10300, 128: 12000, 256: 12800 },
      battery: { "100-87": 0, "86-79": -2500 },
      hasSim: false,
      esimDiscount: 1500,
    },
    "iPhone 12 Mini": {
      storage: { 64: 5500, 128: 7200, 256: 8300 },
      battery: { "100-87": 0, "86-79": -2500 },
      hasSim: false,
      esimDiscount: 1000,
    },
    "iPhone 11 Pro Max": {
      storage: { 64: 10700, 256: 14650, 512: 14500 },
      battery: { "100-87": 0, "86-79": -1700 },
      hasSim: false,
      esimDiscount: 4300,
    },
    "iPhone 11 Pro": {
      storage: { 64: 10000, 256: 12500, 512: 13000 },
      battery: { "100-87": 0, "86-79": -1700 },
      hasSim: false,
      esimDiscount: 2400,
    },
    "iPhone 11": {
      storage: { 64: 7500, 128: 9800, 256: 10400 },
      battery: { "100-87": 0, "86-79": -1500 },
      hasSim: false,
      esimDiscount: 1500,
    },
    "iPhone XS Max": {
      storage: { 64: 6100, 256: 8250, 512: 9100 },
      battery: { "100-87": 0, "86-79": -1500 },
      hasSim: false,
      esimDiscount: 4300,
    },
    "iPhone XS": {
      storage: { 64: 6100, 256: 7400, 512: 8300 },
      battery: { "100-87": 0, "86-79": -1500 },
      hasSim: false,
      esimDiscount: 2400,
    },
    "iPhone X": {
      storage: { 64: 4300, 256: 6600 },
      battery: { "100-87": 0, "86-79": -1500 },
      hasSim: false,
      esimDiscount: 1500,
    },
    "iPhone XR": {
      storage: { 64: 5800, 128: 7000, 256: 7400 },
      battery: { "100-87": 0, "86-79": -1500 },
      hasSim: false,
      esimDiscount: 1500,
    },
    "iPhone SE2022": {
      storage: { 64: 5600, 128: 7000, 256: 7300 },
      battery: { "100-87": 0, "86-79": -1700 },
      hasSim: false,
      esimDiscount: 500,
    },
    "iPhone SE2020": {
      storage: { 64: 4200, 128: 5100, 256: 5700 },
      battery: { "100-87": 0, "86-79": -1700 },
      hasSim: false,
      esimDiscount: 0,
    },
    "iPhone 8 Plus": {
      storage: { 64: 3200, 256: 4100 },
      battery: { "100-87": 0, "86-79": -800 },
      hasSim: false,
      esimDiscount: 0,
    },
    "iPhone 8": {
      storage: { 64: 2800, 256: 3400 },
      battery: { "100-87": 0, "86-79": -800 },
      hasSim: false,
      esimDiscount: 0,
    },
  };

  const modelSelect = document.getElementById('model-select');
  const storageGroup = document.getElementById('storage-group');
  const batteryGroup = document.getElementById('battery-group');
  const simGroup = document.getElementById('sim-group');
  const totalPriceDiv = document.getElementById('total-price');
  const totalPriceValue = totalPriceDiv.querySelector('.total-price');

  function resetForm() {
    storageGroup.classList.add('hidden');
    batteryGroup.classList.add('hidden');
    simGroup.classList.add('hidden');
    totalPriceDiv.classList.add('hidden');
    resetActiveButtons(storageGroup);
    resetActiveButtons(batteryGroup);
    resetActiveButtons(simGroup);
    totalPriceValue.textContent = '0 ₴';
  }

  function resetActiveButtons(container) {
    container.querySelectorAll('button.active').forEach(button => {
      button.classList.remove('active');
    });
  }

  function updateStorageOptions(model) {
    const storageOptions = prices[model].storage;
    storageGroup.innerHTML = '<h3>Объем памяти:</h3>';
    for (const storage in storageOptions) {
      const button = document.createElement('button');
      button.type = 'button';
      button.textContent = `${storage} ГБ`;
      button.dataset.storage = storage;
      storageGroup.appendChild(button);
    }
    storageGroup.querySelectorAll('button').forEach(button => {
      button.addEventListener('click', () => {
        resetActiveButtons(storageGroup);
        button.classList.add('active');
        batteryGroup.classList.remove('hidden');
        batteryGroup.classList.add('fade-in');
        updateTotalPrice();
      });
    });
  }

  function updateTotalPrice() {
    const model = modelSelect.value;
    const storage = storageGroup.querySelector('button.active')?.dataset.storage;
    const battery = batteryGroup.querySelector('button.active')?.dataset.battery;
    const sim = simGroup.querySelector('button.active')?.dataset.sim;

    console.log('Model:', model);
    console.log('Storage:', storage);
    console.log('Battery:', battery);
    console.log('SIM:', sim);

    if (!model || !storage || !battery) {
      totalPriceDiv.classList.add('hidden');
      return;
    }

    if (prices[model]?.hasSim && !sim) {
      totalPriceDiv.classList.add('hidden');
      return;
    }

    const basePrice = prices[model].storage[storage] || 0;
    const batteryPrice = prices[model].battery[battery] || 0;
    const esimDiscount = sim === 'esim' ? prices[model].esimDiscount : 0;
    const totalPrice = (basePrice + batteryPrice) - esimDiscount;

    totalPriceValue.textContent = `${totalPrice.toFixed(0)} ₴`;
    totalPriceDiv.classList.remove('hidden');
    totalPriceDiv.classList.add('fade-in');
  }

  modelSelect.addEventListener('change', () => {
    resetForm();
    if (modelSelect.value) {
      updateStorageOptions(modelSelect.value);
      storageGroup.classList.remove('hidden');
      storageGroup.classList.add('fade-in');
    }
  });

  batteryGroup.querySelectorAll('button').forEach(button => {
    button.addEventListener('click', () => {
      resetActiveButtons(batteryGroup);
      button.classList.add('active');
      const selectedModel = modelSelect.value;
      if (prices[selectedModel]?.hasSim) {
        simGroup.classList.remove('hidden');
        simGroup.classList.add('fade-in');
      } else {
        simGroup.classList.add('hidden');
      }
      updateTotalPrice();
    });
  });

  simGroup.querySelectorAll('button').forEach(button => {
    button.addEventListener('click', () => {
      resetActiveButtons(simGroup);
      button.classList.add('active');
      updateTotalPrice();
    });
  });

  function toggleMenu() {
    const menuDropdown = document.getElementById('menuDropdown');
    menuDropdown.style.display = menuDropdown.style.display === 'block' ? 'none' : 'block';
  }

  window.addEventListener('click', (event) => {
    const menuDropdown = document.getElementById('menuDropdown');
    const menuButton = document.querySelector('.menu-button');
    if (event.target !== menuButton && !menuButton.contains(event.target) && event.target !== menuDropdown && !menuDropdown.contains(event.target)) {
      menuDropdown.style.display = 'none';
    }
  });
</script>
</body>
</html>
